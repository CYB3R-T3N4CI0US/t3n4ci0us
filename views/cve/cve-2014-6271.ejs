<!DOCTYPE html>
<html lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="description" content="T3N4CI0US">
    <meta name="author" content="T3N4CI0US">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title><%= title %></title>
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@100;200;300;400;500;600;700;800;900&family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <!-- Stylesheet -->
    <link type="text/css" rel="stylesheet" href="../stylesheets/plugins.css">
    <link type="text/css" rel="stylesheet" href="../stylesheets/style.css?ver=1.0">
</head>
<body class="home-static">
<!-- Main -->
<div class="tas_fn_main" data-footer-sticky="">
    <!-- Wargame Modal -->
    <div class="tas_fn_modal product_modal">
        <div class="modal_in">
            <div class="modal_closer">
                <a href="#">
                    <img src="images/svg/cancel.svg" alt="" class="fn__svg">
                </a>
            </div>
            <div class="modal_content">
                <div class="tas_fn_product_modal">
                    <div class="img_item">
                        <!-- Product's Image -->
                    </div>
                    <div class="content_item">
                        <div class="tas_fn_title" data-align="left">
                            <h3 class="fn_title"><!-- Product's Title --></h3>
                            <div class="line"><span></span></div>
                        </div>

                        <div class="desc">
                            <p><!-- Product's Description --></p>
                        </div>

                        <div class="buttons">
                            <a href="/comming" target="_blank" class="tas_fn_button wargame">
                                <span class="icon"><img src="images/svg/wargame.svg" alt="" class="fn__svg"></span>
                                <span class="text">Wargame</span>
                            </a>
                            <a href="#" target="_blank" class="tas_fn_button discord">
                                <span class="icon"><img src="images/svg/discord.svg" alt="" class="fn__svg"></span>
                                <span class="text">Wargame Discord</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Wargame Modal End -->

    <!-- Right Navigation -->
    <div class="nav_overlay"></div>
    <div class="tas_fn_nav">
        <div class="trigger is-active">
            <div class="trigger_in">
                <span class="text">Close</span>
                <span class="hamb">
              <span class="hamb_a"></span>
              <span class="hamb_b"></span>
              <span class="hamb_c"></span>
            </span>
            </div>
        </div>
        <div class="nav_content">
            <div class="nav_menu">
                <ul>
                    <li class="menu-item menu-item-has-children">
                        <a href="/">Home</a>
                        <!-- Sub Menu
                        <ul class="sub-menu">
                          <li><a href="#"></a></li>
                        </ul>
                        -->
                    </li>
                    <li class="menu-item"><a href="/comming">Wargame</a></li>
                    <li class="menu-item"><a href="/member">Member</a></li>
                    <li class="menu-item">
                        <a href="#">Research</a>
                        <ul class="sub-menu">
                            <li><a href="#">Pwnable</a></li>
                            <li><a href="#">Reversing</a></li>
                            <li><a href="#">Web</a></li>
                            <li><a href="#">Forensic</a></li>
                            <li><a href="#">Crypto</a></li>
                            <li><a href="#">CVE</a></li>
                        </ul>
                    </li>
                    <li class="menu-item">
                        <a href="#">CTF[Write-up]</a>
                        <ul class="sub-menu">
                            <li><a href="#">2024</a></li>
                            <li><a href="#">2023</a></li>
                        </ul>
                    </li>
                    <li class="menu-item"><a href="/contact">Contact</a></li>
                </ul>
            </div>
            <div class="nav_buttons">
                <a href="/comming" class="tas_fn_button" target="_blank">
                    <span class="icon"><img src="images/svg/wargame.svg" alt="" class="fn__svg"></span>
                    <span class="text">Wargame</span>
                </a>
                <a href="#" class="tas_fn_button" target="_blank">
                    <span class="icon"><img src="images/svg/discord.svg" alt="" class="fn__svg"></span>
                    <span class="text">Wargame Discord</span>
                </a>
            </div>
        </div>

        <!-- Nav Footer -->
        <div class="nav_footer">
            <div class="nf_left">
                <p>Copyright 2019. T3N4CI0US All rights reserved</p>
            </div>
            <div class="nf_right">
                <div class="tas_fn_social_list">
                    <ul>
                        <li><a href="#"><box-icon name='twitter' type='logo' color='#ffffff' ></box-icon></a></li>
                        <li><a href="#"><box-icon name='meta' type='logo' color='#ffffff' ></box-icon></a></li>
                        <li><a href="#"><box-icon name='instagram' type='logo' color='#ffffff' ></box-icon></a></li>
                        <li><a href="#"><box-icon name='github' type='logo' color='#ffffff' ></box-icon></a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- Nav Footer End -->
    </div>
    <!-- Right Navigation End -->

    <!-- Header -->
    <header class="tas_fn_header fixer">
        <div class="container">
            <div class="header_in">

                <div class="logo">
                    <a href="/">
                        <!-- Logo -->
                        <!-- <img src="images/logo.png" alt=""> -->
                        <span class="logo">T3N4CI0US</span>
                    </a>
                </div>

                <div class="trigger">
                    <div class="trigger_in">
                        <span class="text">Menu</span>
                        <span class="hamb">
                <span class="hamb_a"></span>
                <span class="hamb_b"></span>
                <span class="hamb_c"></span>
              </span>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header End -->
    <div class="tas_fn_content">


        <!-- Blog Single Page -->
        <div class="tas_fn_blog_single tas_fn_single">

            <!-- Single Background -->
            <div class="single_bg"></div>
            <!-- !Single Background -->


            <!-- Single Content -->
            <div class="single_content">

                <div class="container" id="blog-single-content">
                    <!-- Page With Sidebar -->
                    <div class="tas_fn_wsidebar">

                        <!-- Left Sidebar -->
                        <div class="sidebar_left">

                            <!-- Mini Items  -->
                            <div class="tas_fn_minis">
                                <div class="m_item">
                                    <a href="#">Feb 03, 2022</a>
                                </div>
                                <div class="m_item">
                                    <span>By <a href="#">Sy2n0</a></span>
                                </div>
                            </div>
                            <!-- !Mini Items  -->

                            <!-- Single Title -->
                            <div class="single_title">
                                <h2 class="fn_title">CVE-2014-6271 / Shellshock</h2>
                                <div class="categories">
                                    <a href="#">CVE</a>
                                </div>
                            </div>
                            <!-- !Single Title -->


                            <!-- Single Description -->
                            <div class="single_desc">
                                <p>해당 취약점은 2014년 9월 24일에 공개되어 “CVE-2014-6271”로 지정된 이후 유사한 취약점들이 GNU Bash에서 추가로 발견되었다. <br>
                                Shellshock 취약점에 경우 CGI 기반 웹서버나 DHCP 클라이언트, IBM HMC restricted shell 등 다양한 환경에서에 공격이 가능하다. <br>
                                이처럼 취약한 Bash는 반드시 업데이트를 해줘야한다.</p>
                                <hr> <br>
                                <h4>PentesterLab CVE-2014-6271/Shellshock 훈련장 설치 과정</h4>
                                <p>PentesterLab의 CVE-2014-6271/Shellshock 훈련장에서 해당 CVE 취약점에 ISO 파일을 다운받는다.</p>
                                <p>[VMware Fusion 기준]</p>
                                <p>New -> Continue -> cve-2014-6271.iso 선택 후 Continue -> Linux (Other Linux)</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147346983-4fbe95ab-80f5-4929-aaee-26a94a088950.png" alt="pentesterlab">
                                <p>위와 같은 순서로 진행 시 해당 사진과 같이 CVE 훈련장이 부팅되고 있는 화면을 볼 수 있다.</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147347188-c75d7a02-7115-431f-a9bb-7c8147786303.png" alt="pentesterlab">
                                <p>이 후 부팅이 끝났다면 <span style="color: #ef2853">ifconfig</span> 명령어를 통하여 ip주소를 확인한 후 인터넷을 통하여 접속해주면 된다.</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147347249-8bf6c313-3289-42ca-ae1f-b99f1bbdd803.png" alt="cve">
                                <p>접속을 하면 다음과 같이 CVE-2014-6271 이라는 글자가 반겨주는 걸 볼 수 있다.</p>
                                <hr> <br>
                                <h4>Nmap을 통한 네트워크 포트 확인하기</h4>
                                <p>Nmap을 통하여 Shellshock 가상머신에서 열려있는 포트를 확인한다.</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147347521-afcd106c-ede5-430b-81e3-72e6b802eb7e.png" alt="kali">
                                <p>Nmap으로 포트를 확인했을때 <span style="color: #ef2853">22/tcp</span>, <span style="color: #ef2853">80/tcp</span>포트가 열려있는 것을 알 수 있다.</p>
                                <p>이러한 결과를 통하여 Apache httpd 2.2.21 가 - Potentially risky -HTTP Methods TRACE를 허용하는 취약점이 있다는 것을 알 수 있었다.</p>
                                <h5>Nmap을 통하여 찾은 취약점</h5>
                                <p>1. 불필요한 HTTP 메소드 허용 : TRACE <br> 2. 웹서버 버전정보 노출 : Apache httpd 2.2.21 <br> 3. 환경설정 취약점 : 외부 SSH 접속 허용</p>
                                <hr> <br>
                                <h4>Nikto를 통한 웹취약점 탐색</h4>
                                <p>80번 포트의 웹서비스를 대상으로 nikto를 실행하여 환경설정 중심의 웹 취약점을 탐색한다.</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147347903-5ef35fe6-5708-44b2-a5e3-ad579fd23a2b.png" alt="kali">
                                <p>다음과 같은 결과를 얻을 수 있었다.</p>
                                <h5>nikto 점검 결과 의미</h5>
                                <p><span class="tas_code">+ Server: Apache/2.2.21 (Unix) DAV/2</span> <br> Apache 2.2.21이 웹서버로 사용되고 있다.</p>
                                <p><span class="tas_code">+ Server may leak inodes via ETags, header found with file /, inode: 4905, size: 1704, mtime: Thu Sep 25 05:56:50 2014</span> <br> 웹 서비스를 2014년 9월 25일 작성한 것으로 추정</p>
                                <p><span class="tas_code">+ The anti-clickjacking X-Frame-Options header is not present.</span> <br> 클릭재킹 방어기작 부재: X-Frame-Options 참조</p>
                                <p><span class="tas_code">+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS</span> <br> X-XSS-Protection 참조</p>
                                <p><span class="tas_code">+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type</span> <br> X-Content-Type-Options 참조</p>
                                <p><span class="tas_code">+ Apache/2.2.21 appears to be outdated (current is at least Apache/2.4.37). Apache 2.2.34 is the EOL for the 2.x branch.</span> <br> 노후화된 Apache 웹서버 Version</p>
                                <p><span class="tas_code">+ Uncommon header '93e4r0-cve-2014-6278' found, with contents: true <br> + OSVDB-112004: /cgi-bin/status: Site appears vulnerable to the 'shellshock' vulnerability (http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-6271).</span> <br> 두 개의 Shellshock 취약점 탐지</p>
                                <p><span class="tas_code">+ Allowed HTTP Methods: GET, HEAD, POST, OPTIONS, TRACE  <br> + OSVDB-877: HTTP TRACE method is active, suggesting the host is vulnerable to XST </span> <br> 불필요한 TRACE Methods 허용으로 XST 공격 가능성 존재</p>
                                <hr> <br>
                                <p>OWASP-ZAP을 통한 웹 어플리케이션 취약점 탐색</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147348437-6353a346-03ad-4a14-87f7-cf32a47e9ee3.png" alt="owasp-zap">
                                <p>다음과 같이 OWASP-ZAP을 통하여 취약점을 탐색한 결과 Directory Indexing 취약점이 존재한다는 것을 알 수 있었다.</p>
                                <hr> <br>
                                <h4>Shellshock & CGI</h4>
                                <p>GNU Bash의 Shellshock 취약점은 특수하게 조작된 환경변수를 만들 경우 환경변수 내의 문자열이 명령어로 실행되는 특수한 취약점이다. 대표적으로 현재 설명중인 CVE-2014-6271에 존재한다.</p>
                                <p class="tas_shell">
                                    ┌──(kali㉿kali)-[~] <br>
                                    └─$ export x='() { :;}; echo vulnerable'  <br>
                                    <br>
                                    ┌──(kali㉿kali)-[~] <br>
                                    └─$ bash -c "echo this is a test" <br>
                                    vulnerable <br>
                                    this is a test <br>
                                    <br>
                                    ┌──(kali㉿kali)-[~] <br>
                                    └─$ 
                                </p>
                                <p>다음과 같이 환경변수에 ()가 포함된 특수한 문자열 다음에 명령어가 지정되고 이 환경변수를 받은 Bash가 실행된다면 지정된 명령어를 실행하는 특이한 취약점이다. <br>다만 취약점이 없다면 vulnerable이 출력되지 않는다.</p>
                                <hr> <br>
                                <h4>PentesterLab CVE-2014-6271 Shellshock 진단</h4>
                                <p><span class="tas_code">+ OSVDB-112004: /cgi-bin/status: Site appears vulnerable to the 'shellshock' vulnerability (http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2014-6278).</span> <br> CVE-2014-6271의 취약점이 /cgi-bin/status에서 탐지된것을 확인할 수 있었습니다.</p>
                                <p>HTTP 규약을 어기지 않으면서 공격자가 조작할 수 있는 HTTP 헤더는 "Agent:", "Referer:" 등이 있다.</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147348999-c7330654-1912-41c6-b12e-d8b1cc2e806c.png" alt="kali">
                                <img src="https://user-images.githubusercontent.com/84657474/147349016-33df4817-e259-49e3-9950-3e920112f789.png" alt="kali">
                                <p>위에 두 예에서는 "Agent:"헤더를 조작하여 웹서버에 전달하였다.</p>
                                <p>첫번째에서는 명령어를 지정하지 않았고, 두번째에서는 빈줄을 출력하도록 echo 명령어를 삽입하였다.</p>
                                <p>두 결과를 비교하면 ShellShock 취약점에 의한 명령어는 헤더의 마지막 줄 앞에서 실행되어 빈 줄이 출력되는 것을 볼 수 있다.</p>
                                <img src="https://user-images.githubusercontent.com/84657474/147349213-69a78b3b-a951-4f13-974b-5fcbc01c5c59.png" alt="kali">
                                <img src="https://user-images.githubusercontent.com/84657474/147349235-89f0e767-8f96-4843-bea8-b56262d71293.png" alt="kali">
                                <p>다음 두개에 사진들과 같이 명령어 및 /etc/passwd를 읽을 수 있는 것을 확인하였다.</p>
                                <p>악의적인 추가공격에서는 bind shell이나 reverse connection, root 권한 획득 등을 통하여 지속적인 접속을 목적으로 해당 취약점을 사용하는 것이 일반적이다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a href="#" class="neoh_fn_totop">
		<span class="arrow"><img src="../images/svg/right-arr.svg" alt="" class="fn__svg"></span>
		<span class="circle"><img src="../images/svg/circle.svg" alt="" class="fn__svg"></span>
	</a>
</div>
<!-- Scripts -->
<script type="text/javascript" src="../javascripts/jquery.js"></script>
<script type="text/javascript" src="../javascripts/plugins.js"></script>
<!--[if lt IE 10]> <script type="text/javascript" src="js/ie8.js"></script> <![endif]-->
<script type="text/javascript" src="../javascripts/init.js?ver=4.0"></script>
<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
</body>
</html>